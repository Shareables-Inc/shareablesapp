[debug] [2024-12-05T03:29:24.747Z] ----------------------------------------------------------------------
[debug] [2024-12-05T03:29:24.749Z] Command:       /Users/devenpatel/.nvm/versions/node/v20.17.0/bin/node /Users/devenpatel/.nvm/versions/node/v20.17.0/bin/firebase deploy --only functions:analyzeImage
[debug] [2024-12-05T03:29:24.750Z] CLI Version:   13.28.0
[debug] [2024-12-05T03:29:24.750Z] Platform:      darwin
[debug] [2024-12-05T03:29:24.750Z] Node Version:  v20.17.0
[debug] [2024-12-05T03:29:24.750Z] Time:          Wed Dec 04 2024 22:29:24 GMT-0500 (Eastern Standard Time)
[debug] [2024-12-05T03:29:24.750Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-12-05T03:29:24.790Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-05T03:29:24.790Z] > authorizing via signed-in user (deven@shareablesapp.com)
[debug] [2024-12-05T03:29:24.790Z] [iam] checking project shareables-development-b0a88 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-12-05T03:29:24.791Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:24.791Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:24.791Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions [none]
[debug] [2024-12-05T03:29:24.791Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:24.792Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T03:29:25.038Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions 200
[debug] [2024-12-05T03:29:25.039Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-05T03:29:25.039Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:25.039Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:25.039Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/shareables-development-b0a88/serviceAccounts/shareables-development-b0a88@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-12-05T03:29:25.039Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/shareables-development-b0a88/serviceAccounts/shareables-development-b0a88@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-12-05T03:29:25.390Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/shareables-development-b0a88/serviceAccounts/shareables-development-b0a88@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-12-05T03:29:25.391Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/shareables-development-b0a88/serviceAccounts/shareables-development-b0a88@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'shareables-development-b0a88'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-12-05T03:29:29.724Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:29.724Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:29.724Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88 [none]
[debug] [2024-12-05T03:29:29.810Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88 200
[debug] [2024-12-05T03:29:29.810Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88 {"projectNumber":"867806774693","projectId":"shareables-development-b0a88","lifecycleState":"ACTIVE","name":"Shareables-Development","labels":{"firebase":"enabled"},"createTime":"2024-10-11T16:30:09.760930Z","parent":{"type":"organization","id":"503790861974"}}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:29.811Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:29.811Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:29.811Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:29.811Z] Checked if tokens are valid: true, expires at: 1733370639981
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:29.811Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:29.811Z] Checked if tokens are valid: true, expires at: 1733370639981
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:29.811Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:29.811Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:29.811Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudfunctions.googleapis.com [none]
[debug] [2024-12-05T03:29:29.811Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:29.812Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/runtimeconfig.googleapis.com [none]
[debug] [2024-12-05T03:29:29.812Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:29.813Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudbuild.googleapis.com [none]
[debug] [2024-12-05T03:29:29.813Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudbuild.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:29.813Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/artifactregistry.googleapis.com [none]
[debug] [2024-12-05T03:29:29.813Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/artifactregistry.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:30.071Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/runtimeconfig.googleapis.com 200
[debug] [2024-12-05T03:29:30.071Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-12-05T03:29:30.103Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudbuild.googleapis.com 200
[debug] [2024-12-05T03:29:30.103Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-12-05T03:29:30.128Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudfunctions.googleapis.com 200
[debug] [2024-12-05T03:29:30.128Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-12-05T03:29:30.141Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/artifactregistry.googleapis.com 200
[debug] [2024-12-05T03:29:30.141Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-12-05T03:29:30.141Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:30.141Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:30.142Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/shareables-development-b0a88/adminSdkConfig [none]
[debug] [2024-12-05T03:29:30.714Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/shareables-development-b0a88/adminSdkConfig 200
[debug] [2024-12-05T03:29:30.715Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/shareables-development-b0a88/adminSdkConfig {"projectId":"shareables-development-b0a88","storageBucket":"shareables-development-b0a88.appspot.com","locationId":"us-central"}
[debug] [2024-12-05T03:29:30.716Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:30.716Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:30.716Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/shareables-development-b0a88/configs [none]
[debug] [2024-12-05T03:29:30.920Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/shareables-development-b0a88/configs 200
[debug] [2024-12-05T03:29:30.920Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/shareables-development-b0a88/configs {}
[debug] [2024-12-05T03:29:30.922Z] Validating nodejs source
[debug] [2024-12-05T03:29:31.270Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^13.0.1",
    "firebase-functions": "^6.1.1",
    "uuid": "^10.0.0"
  },
  "devDependencies": {
    "@types/uuid": "^10.0.0",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-12-05T03:29:31.271Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-12-05T03:29:31.271Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-12-05T03:29:31.275Z] Found firebase-functions binary at '/Users/devenpatel/Desktop/shareablesapp/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8213

[debug] [2024-12-05T03:29:31.801Z] Got response from /__/functions.yaml {"endpoints":{"analyzeImage":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"callableTrigger":{},"entryPoint":"analyzeImage"},"sendCommentNotification":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"comments/{commentId}"},"retry":false},"entryPoint":"sendCommentNotification"},"sendFollowNotification":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"following/{followingId}"},"retry":false},"entryPoint":"sendFollowNotification"},"sendLikeNotification":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"likes/{likeId}"},"retry":false},"entryPoint":"sendLikeNotification"},"sendFollowedUserPostNotification":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"posts/{postId}"},"retry":false},"entryPoint":"sendFollowedUserPostNotification"},"scheduledDeleteIncompletePosts":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"scheduleTrigger":{"schedule":"0 4 * * *","retryConfig":{},"timeZone":"America/Toronto"},"entryPoint":"scheduledDeleteIncompletePosts"},"incrementLikeCount":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"likes/{likeId}"},"retry":false},"entryPoint":"incrementLikeCount"},"decrementLikeCount":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.deleted","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"likes/{likeId}"},"retry":false},"entryPoint":"decrementLikeCount"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:36.841Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:36.841Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:36.841Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/firebaseextensions.googleapis.com [none]
[debug] [2024-12-05T03:29:36.841Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:37.117Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/firebaseextensions.googleapis.com 200
[debug] [2024-12-05T03:29:37.118Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-12-05T03:29:37.119Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-05T03:29:37.119Z] > authorizing via signed-in user (deven@shareablesapp.com)
[debug] [2024-12-05T03:29:37.119Z] [iam] checking project shareables-development-b0a88 for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-12-05T03:29:37.119Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:37.119Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:37.120Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions [none]
[debug] [2024-12-05T03:29:37.120Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:37.120Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-12-05T03:29:37.339Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions 200
[debug] [2024-12-05T03:29:37.339Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-12-05T03:29:37.340Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:37.340Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:37.341Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/shareables-development-b0a88/instances pageSize=100&pageToken=
[debug] [2024-12-05T03:29:37.584Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/shareables-development-b0a88/instances 200
[debug] [2024-12-05T03:29:37.584Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/shareables-development-b0a88/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/devenpatel/Desktop/shareablesapp/functions (81.19 KB) for uploading 
[debug] [2024-12-05T03:29:37.638Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:37.638Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:37.638Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/shareables-development-b0a88/locations/-/functions [none]
[debug] [2024-12-05T03:29:38.189Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/shareables-development-b0a88/locations/-/functions 200
[debug] [2024-12-05T03:29:38.190Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/shareables-development-b0a88/locations/-/functions {}
[debug] [2024-12-05T03:29:38.190Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.190Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.191Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-12-05T03:29:38.610Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/-/functions 200
[debug] [2024-12-05T03:29:38.611Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/-/functions {"functions":[{"name":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","buildConfig":{"build":"projects/867806774693/locations/us-central1/builds/097a0b52-da6e-4a41-9f84-c73dd1aa875a","runtime":"nodejs20","entryPoint":"analyzeImage","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733194952616224"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733194952616224"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"UNKNOWN","updateTime":"2024-12-05T03:05:43.072788493Z","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"b5d8e6d60c64ae4ec0c6f6fe4372517e22c36dea"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/analyzeImage","createTime":"2024-12-03T03:02:33.090336571Z"},{"name":"projects/shareables-development-b0a88/locations/us-central1/functions/sendFollowNotification","buildConfig":{"build":"projects/867806774693/locations/us-central1/builds/938b7d18-dc3a-4269-9c95-b954db509e58","runtime":"nodejs20","entryPoint":"sendFollowNotification","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"sendFollowNotification/function-source.zip","generation":"1733195845386791"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"sendFollowNotification/function-source.zip","generation":"1733195845386791"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-12-03T03:17:41.200355783Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"50dcabe64713f7a1b550e3d45091cc066716d9c6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/sendfollownotification for the function was not found. The function will not work correctly. Please redeploy."},{"severity":"ERROR","type":"EventarcTriggerNotFound","message":"Eventarc trigger projects/shareables-development-b0a88/locations/nam5/triggers/sendfollownotification-795294 for the function was not found. The function may not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/sendFollowNotification","createTime":"2024-12-03T03:17:26.180087218Z"},{"name":"projects/shareables-development-b0a88/locations/us-central1/functions/incrementLikeCount","buildConfig":{"build":"projects/867806774693/locations/us-central1/builds/1ce83c35-3d11-4800-a2eb-762efabe6228","runtime":"nodejs20","entryPoint":"incrementLikeCount","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"incrementLikeCount/function-source.zip","generation":"1733195845505530"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"incrementLikeCount/function-source.zip","generation":"1733195845505530"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-12-03T03:17:46.103434424Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"50dcabe64713f7a1b550e3d45091cc066716d9c6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/incrementlikecount for the function was not found. The function will not work correctly. Please redeploy."},{"severity":"ERROR","type":"EventarcTriggerNotFound","message":"Eventarc trigger projects/shareables-development-b0a88/locations/nam5/triggers/incrementlikecount-507049 for the function was not found. The function may not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/incrementLikeCount","createTime":"2024-12-03T03:17:26.197967870Z"},{"name":"projects/shareables-development-b0a88/locations/us-central1/functions/scheduledDeleteIncompletePosts","buildConfig":{"build":"projects/867806774693/locations/us-central1/builds/ba6a4da2-f942-42a0-b189-52ecea9e07e2","runtime":"nodejs20","entryPoint":"scheduledDeleteIncompletePosts","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"scheduledDeleteIncompletePosts/function-source.zip","generation":"1733195042517942"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"scheduledDeleteIncompletePosts/function-source.zip","generation":"1733195042517942"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"UNKNOWN","updateTime":"2024-12-03T03:17:39.874876180Z","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"50dcabe64713f7a1b550e3d45091cc066716d9c6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/scheduleddeleteincompleteposts for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/scheduledDeleteIncompletePosts","createTime":"2024-12-03T03:04:02.772418298Z"},{"name":"projects/shareables-development-b0a88/locations/us-central1/functions/sendFollowedUserPostNotification","buildConfig":{"build":"projects/867806774693/locations/us-central1/builds/d3fd5402-9d7c-4dbd-83f0-3229bb5fc1ad","runtime":"nodejs20","entryPoint":"sendFollowedUserPostNotification","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"sendFollowedUserPostNotification/function-source.zip","generation":"1733195845514316"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"sendFollowedUserPostNotification/function-source.zip","generation":"1733195845514316"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-12-03T03:17:38.741725420Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"50dcabe64713f7a1b550e3d45091cc066716d9c6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/sendfolloweduserpostnotification for the function was not found. The function will not work correctly. Please redeploy."},{"severity":"ERROR","type":"EventarcTriggerNotFound","message":"Eventarc trigger projects/shareables-development-b0a88/locations/nam5/triggers/sendfolloweduserpostnotification-927429 for the function was not found. The function may not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/sendFollowedUserPostNotification","createTime":"2024-12-03T03:17:26.201590448Z"},{"name":"projects/shareables-development-b0a88/locations/us-central1/functions/sendCommentNotification","buildConfig":{"build":"projects/867806774693/locations/us-central1/builds/622f7a64-4022-4873-b298-a14e9102583b","runtime":"nodejs20","entryPoint":"sendCommentNotification","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"sendCommentNotification/function-source.zip","generation":"1733195827811525"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"sendCommentNotification/function-source.zip","generation":"1733195827811525"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-12-03T03:17:23.730373864Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"50dcabe64713f7a1b550e3d45091cc066716d9c6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/sendcommentnotification for the function was not found. The function will not work correctly. Please redeploy."},{"severity":"ERROR","type":"EventarcTriggerNotFound","message":"Eventarc trigger projects/shareables-development-b0a88/locations/nam5/triggers/sendcommentnotification-135723 for the function was not found. The function may not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/sendCommentNotification","createTime":"2024-12-03T03:17:08.643635212Z"},{"name":"projects/shareables-development-b0a88/locations/us-central1/functions/decrementLikeCount","buildConfig":{"build":"projects/867806774693/locations/us-central1/builds/4f082854-2b39-4e69-9a28-cf7c9ace3cd9","runtime":"nodejs20","entryPoint":"decrementLikeCount","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"decrementLikeCount/function-source.zip","generation":"1733195845525317"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"decrementLikeCount/function-source.zip","generation":"1733195845525317"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-12-03T03:18:10.908676757Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"50dcabe64713f7a1b550e3d45091cc066716d9c6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/decrementlikecount for the function was not found. The function will not work correctly. Please redeploy."},{"severity":"ERROR","type":"EventarcTriggerNotFound","message":"Eventarc trigger projects/shareables-development-b0a88/locations/nam5/triggers/decrementlikecount-792613 for the function was not found. The function may not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/decrementLikeCount","createTime":"2024-12-03T03:17:26.289415379Z"},{"name":"projects/shareables-development-b0a88/locations/us-central1/functions/sendLikeNotification","buildConfig":{"build":"projects/867806774693/locations/us-central1/builds/44b71ee2-0b21-4406-8754-82102e8a722d","runtime":"nodejs20","entryPoint":"sendLikeNotification","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"sendLikeNotification/function-source.zip","generation":"1733195845547164"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"sendLikeNotification/function-source.zip","generation":"1733195845547164"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"state":"FAILED","updateTime":"2024-12-03T03:18:12.747717486Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"50dcabe64713f7a1b550e3d45091cc066716d9c6"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/sendlikenotification for the function was not found. The function will not work correctly. Please redeploy."},{"severity":"ERROR","type":"EventarcTriggerNotFound","message":"Eventarc trigger projects/shareables-development-b0a88/locations/nam5/triggers/sendlikenotification-956672 for the function was not found. The function may not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/sendLikeNotification","createTime":"2024-12-03T03:17:26.261727362Z"}]}
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.614Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:38.615Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) [none]
[debug] [2024-12-05T03:29:38.616Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) [none]
[debug] [2024-12-05T03:29:38.617Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) [none]
[debug] [2024-12-05T03:29:38.618Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) [none]
[debug] [2024-12-05T03:29:38.619Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) [none]
[debug] [2024-12-05T03:29:38.620Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) [none]
[debug] [2024-12-05T03:29:38.856Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) 200
[debug] [2024-12-05T03:29:38.857Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) {"name":"projects/shareables-development-b0a88/databases/(default)","uid":"2303072d-7844-44a8-9417-9d76f6d7eca7","createTime":"2024-10-11T17:39:56.153659Z","updateTime":"2024-10-11T17:39:56.153659Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-12-05T02:29:38.925614Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IM/S4ZDYj4oDMPijtcyR34kD"}
[debug] [2024-12-05T03:29:39.019Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) 200
[debug] [2024-12-05T03:29:39.019Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) {"name":"projects/shareables-development-b0a88/databases/(default)","uid":"2303072d-7844-44a8-9417-9d76f6d7eca7","createTime":"2024-10-11T17:39:56.153659Z","updateTime":"2024-10-11T17:39:56.153659Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-12-05T02:29:39.086744Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IMK365DYj4oDMPijtcyR34kD"}
[debug] [2024-12-05T03:29:39.019Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) 200
[debug] [2024-12-05T03:29:39.019Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) {"name":"projects/shareables-development-b0a88/databases/(default)","uid":"2303072d-7844-44a8-9417-9d76f6d7eca7","createTime":"2024-10-11T17:39:56.153659Z","updateTime":"2024-10-11T17:39:56.153659Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-12-05T02:29:39.085450Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IJ+065DYj4oDMPijtcyR34kD"}
[debug] [2024-12-05T03:29:39.020Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) 200
[debug] [2024-12-05T03:29:39.020Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) {"name":"projects/shareables-development-b0a88/databases/(default)","uid":"2303072d-7844-44a8-9417-9d76f6d7eca7","createTime":"2024-10-11T17:39:56.153659Z","updateTime":"2024-10-11T17:39:56.153659Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-12-05T02:29:39.085166Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IN+y65DYj4oDMPijtcyR34kD"}
[debug] [2024-12-05T03:29:39.020Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) 200
[debug] [2024-12-05T03:29:39.020Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) {"name":"projects/shareables-development-b0a88/databases/(default)","uid":"2303072d-7844-44a8-9417-9d76f6d7eca7","createTime":"2024-10-11T17:39:56.153659Z","updateTime":"2024-10-11T17:39:56.153659Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-12-05T02:29:39.085420Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IL+z65DYj4oDMPijtcyR34kD"}
[debug] [2024-12-05T03:29:39.021Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) 200
[debug] [2024-12-05T03:29:39.021Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/shareables-development-b0a88/databases/(default) {"name":"projects/shareables-development-b0a88/databases/(default)","uid":"2303072d-7844-44a8-9417-9d76f6d7eca7","createTime":"2024-10-11T17:39:56.153659Z","updateTime":"2024-10-11T17:39:56.153659Z","locationId":"nam5","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-12-05T02:29:39.085194Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"s","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"ILux65DYj4oDMPijtcyR34kD"}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:39.023Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.023Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.023Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudscheduler.googleapis.com [none]
[debug] [2024-12-05T03:29:39.023Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:39.314Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudscheduler.googleapis.com 200
[debug] [2024-12-05T03:29:39.315Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:39.316Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.316Z] Checked if tokens are valid: true, expires at: 1733370639981
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:39.316Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.316Z] Checked if tokens are valid: true, expires at: 1733370639981
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:39.317Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.317Z] Checked if tokens are valid: true, expires at: 1733370639981
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-12-05T03:29:39.317Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.317Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.317Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/run.googleapis.com [none]
[debug] [2024-12-05T03:29:39.317Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/run.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:39.317Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/eventarc.googleapis.com [none]
[debug] [2024-12-05T03:29:39.317Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/eventarc.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:39.320Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/pubsub.googleapis.com [none]
[debug] [2024-12-05T03:29:39.320Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/pubsub.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:39.322Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/storage.googleapis.com [none]
[debug] [2024-12-05T03:29:39.322Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/storage.googleapis.com x-goog-quota-user=projects/shareables-development-b0a88
[debug] [2024-12-05T03:29:39.584Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/run.googleapis.com 200
[debug] [2024-12-05T03:29:39.584Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-12-05T03:29:39.595Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/eventarc.googleapis.com 200
[debug] [2024-12-05T03:29:39.595Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-12-05T03:29:39.605Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/pubsub.googleapis.com 200
[debug] [2024-12-05T03:29:39.605Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-12-05T03:29:39.648Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/storage.googleapis.com 200
[debug] [2024-12-05T03:29:39.648Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/shareables-development-b0a88/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-12-05T03:29:39.648Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.648Z] Checked if tokens are valid: true, expires at: 1733370639981
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-12-05T03:29:39.648Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.648Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:39.648Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/867806774693/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-12-05T03:29:39.648Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/867806774693/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-12-05T03:29:40.104Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/867806774693/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-12-05T03:29:40.104Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/867806774693/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-867806774693@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"108663158268310029060"}}
[debug] [2024-12-05T03:29:40.107Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/867806774693/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-12-05T03:29:40.107Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/867806774693/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-867806774693@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"101334880984001048163"}}
[debug] [2024-12-05T03:29:40.110Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:40.110Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:40.110Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88 [none]
[debug] [2024-12-05T03:29:40.185Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88 200
[debug] [2024-12-05T03:29:40.185Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/shareables-development-b0a88 {"projectNumber":"867806774693","projectId":"shareables-development-b0a88","lifecycleState":"ACTIVE","name":"Shareables-Development","labels":{"firebase":"enabled"},"createTime":"2024-10-11T16:30:09.760930Z","parent":{"type":"organization","id":"503790861974"}}
[debug] [2024-12-05T03:29:40.187Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:40.187Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:40.187Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/shareables-development-b0a88/billingInfo [none]
[debug] [2024-12-05T03:29:40.408Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/shareables-development-b0a88/billingInfo 200
[debug] [2024-12-05T03:29:40.408Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/shareables-development-b0a88/billingInfo {"name":"projects/shareables-development-b0a88/billingInfo","projectId":"shareables-development-b0a88","billingAccountName":"billingAccounts/012C4B-37BCBF-8AECC5","billingEnabled":true}
[debug] [2024-12-05T03:29:40.410Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:40.410Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:40.411Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-12-05T03:29:40.548Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-12-05T03:29:40.548Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-867806774693.us-central1.cloudfunctions.appspot.com/09e0d25c-0166-41a7-9cd1-272fdbc7c87b.zip?GoogleAccessId=service-867806774693@gcf-admin-robot.iam.gserviceaccount.com&Expires=1733371180&Signature=1Fjm27Qh1%2FSou8ad0XUP%2BjSYF6oG5reZonxY7%2Fwkn2yEJnrc1lILpyJ4o2zBJtT30xdM8gfnt5J6cEpBcAKHk2LGxgvnFrcVXwvd2%2Bd%2FSebRL9ssrMCHwaJ2geZ3guSmRotdTiEDfQVpDKO%2FMbJ9wZw9eKDdsLMztow32LnG74yd0iN8oHKT5NkRhP2jSrsRos222zbBS3nplve15DWCSQ6eV92TfWRt4DuXPvrBBZeISG20pOTVL%2BEjI8WLLViuFxiU%2FgN7wuppnNMfWk4nbr5Za%2BjrrR6Bs3fUtWztHSU3Bk1UCZVnMDbikSCz7OR%2FDTGKV01%2B9GIg1HswfJdthA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-867806774693.us-central1.cloudfunctions.appspot.com","object":"09e0d25c-0166-41a7-9cd1-272fdbc7c87b.zip"}}
[debug] [2024-12-05T03:29:40.552Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-867806774693.us-central1.cloudfunctions.appspot.com/09e0d25c-0166-41a7-9cd1-272fdbc7c87b.zip GoogleAccessId=service-867806774693%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1733371180&Signature=1Fjm27Qh1%2FSou8ad0XUP%2BjSYF6oG5reZonxY7%2Fwkn2yEJnrc1lILpyJ4o2zBJtT30xdM8gfnt5J6cEpBcAKHk2LGxgvnFrcVXwvd2%2Bd%2FSebRL9ssrMCHwaJ2geZ3guSmRotdTiEDfQVpDKO%2FMbJ9wZw9eKDdsLMztow32LnG74yd0iN8oHKT5NkRhP2jSrsRos222zbBS3nplve15DWCSQ6eV92TfWRt4DuXPvrBBZeISG20pOTVL%2BEjI8WLLViuFxiU%2FgN7wuppnNMfWk4nbr5Za%2BjrrR6Bs3fUtWztHSU3Bk1UCZVnMDbikSCz7OR%2FDTGKV01%2B9GIg1HswfJdthA%3D%3D
[debug] [2024-12-05T03:29:40.552Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-867806774693.us-central1.cloudfunctions.appspot.com/09e0d25c-0166-41a7-9cd1-272fdbc7c87b.zip [stream]
[debug] [2024-12-05T03:29:40.762Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-867806774693.us-central1.cloudfunctions.appspot.com/09e0d25c-0166-41a7-9cd1-272fdbc7c87b.zip 200
[debug] [2024-12-05T03:29:40.762Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-867806774693.us-central1.cloudfunctions.appspot.com/09e0d25c-0166-41a7-9cd1-272fdbc7c87b.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (2nd Gen) function analyzeImage(us-central1)... 
[debug] [2024-12-05T03:29:40.770Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:40.770Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:40.770Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-12-05T03:29:40.771Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage {"name":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeImage","source":{"storageSource":{"bucket":"gcf-v2-uploads-867806774693.us-central1.cloudfunctions.appspot.com","object":"09e0d25c-0166-41a7-9cd1-272fdbc7c87b.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"shareables-development-b0a88\",\"storageBucket\":\"shareables-development-b0a88.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"shareables-development-b0a88","EVENTARC_CLOUD_EVENT_SOURCE":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeImage","FUNCTION_TARGET":"analyzeImage"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"515b0d81765d988f88174b3326e1b7dc5615593a"}}
[debug] [2024-12-05T03:29:41.856Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage 200
[debug] [2024-12-05T03:29:41.856Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage {"name":"projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T03:29:41.899948552Z","target":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-12-05T03:29:41.857Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:41.857Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:41.857Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd [none]
[debug] [2024-12-05T03:29:41.952Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd 200
[debug] [2024-12-05T03:29:41.953Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd {"name":"projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T03:29:41.899948552Z","target":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-12-05T03:29:42.455Z] [update-default-us-central1-analyzeImage] Retrying task index 0
[debug] [2024-12-05T03:29:42.456Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:42.456Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:42.456Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd [none]
[debug] [2024-12-05T03:29:42.677Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd 200
[debug] [2024-12-05T03:29:42.677Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd {"name":"projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T03:29:41.899948552Z","target":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeImage","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733369381852349"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733194952616224"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"shareables-development-b0a88\",\"storageBucket\":\"shareables-development-b0a88.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"shareables-development-b0a88","EVENTARC_CLOUD_EVENT_SOURCE":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeImage","FUNCTION_TARGET":"analyzeImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"867806774693-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-callable":"true","firebase-functions-hash":"515b0d81765d988f88174b3326e1b7dc5615593a"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/analyzeImage"},"stages":[{"name":"BUILD","message":"Creating build","state":"IN_PROGRESS","resource":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9"},"done":false}
[debug] [2024-12-05T03:29:43.680Z] [update-default-us-central1-analyzeImage] Retrying task index 0
[debug] [2024-12-05T03:29:43.681Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:43.681Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:43.681Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd [none]
[debug] [2024-12-05T03:29:43.871Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd 200
[debug] [2024-12-05T03:29:43.872Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd {"name":"projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T03:29:41.899948552Z","target":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeImage","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733369381852349"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733194952616224"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"shareables-development-b0a88\",\"storageBucket\":\"shareables-development-b0a88.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"shareables-development-b0a88","EVENTARC_CLOUD_EVENT_SOURCE":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeImage","FUNCTION_TARGET":"analyzeImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"867806774693-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-callable":"true","firebase-functions-hash":"515b0d81765d988f88174b3326e1b7dc5615593a"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/analyzeImage"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9"},"done":false}
[debug] [2024-12-05T03:29:45.873Z] [update-default-us-central1-analyzeImage] Retrying task index 0
[debug] [2024-12-05T03:29:45.874Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:45.874Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:45.874Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd [none]
[debug] [2024-12-05T03:29:46.100Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd 200
[debug] [2024-12-05T03:29:46.101Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd {"name":"projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T03:29:41.899948552Z","target":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeImage","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733369381852349"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733194952616224"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"shareables-development-b0a88\",\"storageBucket\":\"shareables-development-b0a88.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"shareables-development-b0a88","EVENTARC_CLOUD_EVENT_SOURCE":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeImage","FUNCTION_TARGET":"analyzeImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"867806774693-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-callable":"true","firebase-functions-hash":"515b0d81765d988f88174b3326e1b7dc5615593a"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/analyzeImage"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9"},"done":false}
[debug] [2024-12-05T03:29:50.102Z] [update-default-us-central1-analyzeImage] Retrying task index 0
[debug] [2024-12-05T03:29:50.104Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:50.104Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:50.105Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd [none]
[debug] [2024-12-05T03:29:50.331Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd 200
[debug] [2024-12-05T03:29:50.331Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd {"name":"projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T03:29:41.899948552Z","target":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeImage","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733369381852349"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733194952616224"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"shareables-development-b0a88\",\"storageBucket\":\"shareables-development-b0a88.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"shareables-development-b0a88","EVENTARC_CLOUD_EVENT_SOURCE":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeImage","FUNCTION_TARGET":"analyzeImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"867806774693-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-callable":"true","firebase-functions-hash":"515b0d81765d988f88174b3326e1b7dc5615593a"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/analyzeImage"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9"},"done":false}
[debug] [2024-12-05T03:29:58.332Z] [update-default-us-central1-analyzeImage] Retrying task index 0
[debug] [2024-12-05T03:29:58.333Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:58.333Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:29:58.334Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd [none]
[debug] [2024-12-05T03:29:58.562Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd 200
[debug] [2024-12-05T03:29:58.563Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd {"name":"projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T03:29:41.899948552Z","target":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeImage","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733369381852349"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733194952616224"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"shareables-development-b0a88\",\"storageBucket\":\"shareables-development-b0a88.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"shareables-development-b0a88","EVENTARC_CLOUD_EVENT_SOURCE":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeImage","FUNCTION_TARGET":"analyzeImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"867806774693-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-callable":"true","firebase-functions-hash":"515b0d81765d988f88174b3326e1b7dc5615593a"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/analyzeImage"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693"},{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/867806774693/locations/us-central1/builds/b53d60cb-7fea-4d46-8707-3f71145066f9"},"done":false}
[debug] [2024-12-05T03:30:08.565Z] [update-default-us-central1-analyzeImage] Retrying task index 0
[debug] [2024-12-05T03:30:08.566Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.566Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.566Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd [none]
[debug] [2024-12-05T03:30:08.797Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd 200
[debug] [2024-12-05T03:30:08.797Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd {"name":"projects/shareables-development-b0a88/locations/us-central1/operations/operation-1733369381044-6287d8238bfe7-9febb8f3-a867bddd","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-05T03:29:41.899948552Z","endTime":"2024-12-05T03:30:02.686227730Z","target":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/shareables-development-b0a88/locations/us-central1/functions/analyzeImage","buildConfig":{"runtime":"nodejs20","entryPoint":"analyzeImage","source":{"storageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733369381852349"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-867806774693-us-central1","object":"analyzeImage/function-source.zip","generation":"1733194952616224"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/shareables-development-b0a88/serviceAccounts/867806774693-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"shareables-development-b0a88\",\"storageBucket\":\"shareables-development-b0a88.appspot.com\",\"locationId\":\"us-central\"}","GCLOUD_PROJECT":"shareables-development-b0a88","EVENTARC_CLOUD_EVENT_SOURCE":"projects/shareables-development-b0a88/locations/us-central1/services/analyzeImage","FUNCTION_TARGET":"analyzeImage","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","serviceAccountEmail":"867806774693-compute@developer.gserviceaccount.com","availableMemory":"256Mi","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"state":"UNKNOWN","labels":{"deployment-callable":"true","firebase-functions-hash":"515b0d81765d988f88174b3326e1b7dc5615593a"},"stateMessages":[{"severity":"ERROR","type":"CloudRunServiceNotFound","message":"Cloud Run service projects/shareables-development-b0a88/locations/us-central1/services/analyzeimage for the function was not found. The function will not work correctly. Please redeploy."}],"environment":"GEN_2","url":"https://us-central1-shareables-development-b0a88.cloudfunctions.net/analyzeImage"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE. Could not build the function due to a missing permission on the build service account. If you didn't revoke that permission explicitly, this could be caused by a change in the organization policies. Please refer to the following documentation for more details and resolution: https://cloud.google.com/functions/docs/troubleshooting#build-service-account\n You can also view the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693.\n"}}
[debug] [2024-12-05T03:30:08.797Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE. Could not build the function due to a missing permission on the build service account. If you didn't revoke that permission explicitly, this could be caused by a change in the organization policies. Please refer to the following documentation for more details and resolution: https://cloud.google.com/functions/docs/troubleshooting#build-service-account
 You can also view the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693.

[debug] [2024-12-05T03:30:08.804Z] Total Function Deployment time: 28032
[debug] [2024-12-05T03:30:08.804Z] 1 Functions Deployed
[debug] [2024-12-05T03:30:08.804Z] 1 Functions Errored
[debug] [2024-12-05T03:30:08.804Z] 0 Function Deployments Aborted
[debug] [2024-12-05T03:30:08.804Z] Average Function Deployment time: 28031
[info] 
[info] Functions deploy had errors with the following functions:
	analyzeImage(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-12-05T03:30:08.874Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.874Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.874Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.874Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.874Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.874Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.875Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:08.876Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/analyze_image [none]
[debug] [2024-12-05T03:30:08.876Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_comment_notification [none]
[debug] [2024-12-05T03:30:08.877Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_follow_notification [none]
[debug] [2024-12-05T03:30:08.878Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_like_notification [none]
[debug] [2024-12-05T03:30:08.878Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_followed_user_post_notification [none]
[debug] [2024-12-05T03:30:08.879Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/scheduled_delete_incomplete_posts [none]
[debug] [2024-12-05T03:30:08.879Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/increment_like_count [none]
[debug] [2024-12-05T03:30:08.879Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/decrement_like_count [none]
[debug] [2024-12-05T03:30:08.880Z] >>> [apiv2][query] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T03:30:09.023Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/analyze_image 404
[debug] [2024-12-05T03:30:09.023Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/analyze_image {"error":{"code":404,"message":"Package \"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/analyze_image\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T03:30:09.122Z] <<< [apiv2][status] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list 404
[debug] [2024-12-05T03:30:09.122Z] <<< [apiv2][body] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T03:30:09.122Z] Failed docker command with error  Request to https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-12-05T03:30:09.125Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:09.125Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:09.125Z] >>> [apiv2][query] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T03:30:09.141Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/scheduled_delete_incomplete_posts 404
[debug] [2024-12-05T03:30:09.142Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/scheduled_delete_incomplete_posts {"error":{"code":404,"message":"Package \"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/scheduled_delete_incomplete_posts\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T03:30:09.142Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/decrement_like_count 404
[debug] [2024-12-05T03:30:09.142Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/decrement_like_count {"error":{"code":404,"message":"Package \"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/decrement_like_count\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T03:30:09.143Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_like_notification 404
[debug] [2024-12-05T03:30:09.143Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_like_notification {"error":{"code":404,"message":"Package \"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_like_notification\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T03:30:09.143Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_follow_notification 404
[debug] [2024-12-05T03:30:09.143Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_follow_notification {"error":{"code":404,"message":"Package \"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_follow_notification\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T03:30:09.152Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/increment_like_count 404
[debug] [2024-12-05T03:30:09.152Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/increment_like_count {"error":{"code":404,"message":"Package \"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/increment_like_count\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T03:30:09.153Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_comment_notification 404
[debug] [2024-12-05T03:30:09.153Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_comment_notification {"error":{"code":404,"message":"Package \"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_comment_notification\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T03:30:09.162Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_followed_user_post_notification 404
[debug] [2024-12-05T03:30:09.162Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_followed_user_post_notification {"error":{"code":404,"message":"Package \"projects/shareables-development-b0a88/locations/us-central1/repositories/gcf-artifacts/packages/send_followed_user_post_notification\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-05T03:30:09.294Z] <<< [apiv2][status] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list 404
[debug] [2024-12-05T03:30:09.294Z] <<< [apiv2][body] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T03:30:09.295Z] Failed docker command with error  Request to https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-12-05T03:30:09.396Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:09.396Z] Checked if tokens are valid: true, expires at: 1733370639981
[debug] [2024-12-05T03:30:09.397Z] >>> [apiv2][query] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list [none]
[debug] [2024-12-05T03:30:09.566Z] <<< [apiv2][status] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list 404
[debug] [2024-12-05T03:30:09.566Z] <<< [apiv2][body] GET https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-05T03:30:09.567Z] Failed docker command with error  Request to https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/shareables-development-b0a88/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/shareables-development-b0a88/us/gcf 
[debug] [2024-12-05T03:30:09.568Z] Functions deploy failed.
[debug] [2024-12-05T03:30:09.568Z] {
  "endpoint": {
    "id": "analyzeImage",
    "project": "shareables-development-b0a88",
    "region": "us-central1",
    "entryPoint": "analyzeImage",
    "platform": "gcfv2",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"shareables-development-b0a88\",\"storageBucket\":\"shareables-development-b0a88.appspot.com\",\"locationId\":\"us-central\"}",
      "GCLOUD_PROJECT": "shareables-development-b0a88",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/shareables-development-b0a88/locations/us-central1/services/analyzeImage"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "cpu": 1,
    "targetedByOnly": true,
    "hash": "515b0d81765d988f88174b3326e1b7dc5615593a"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE. Could not build the function due to a missing permission on the build service account. If you didn't revoke that permission explicitly, this could be caused by a change in the organization policies. Please refer to the following documentation for more details and resolution: https://cloud.google.com/functions/docs/troubleshooting#build-service-account\n You can also view the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693.\n",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE. Could not build the function due to a missing permission on the build service account. If you didn't revoke that permission explicitly, this could be caused by a change in the organization policies. Please refer to the following documentation for more details and resolution: https://cloud.google.com/functions/docs/troubleshooting#build-service-account\n You can also view the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/b53d60cb-7fea-4d46-8707-3f71145066f9?project=867806774693.\n"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-12-05T03:30:09.599Z] Error: Failed to update function analyzeImage in region us-central1
    at /Users/devenpatel/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Fabricator.updateV2Function (/Users/devenpatel/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:388:32)
    at async Fabricator.updateEndpoint (/Users/devenpatel/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:155:13)
    at async handle (/Users/devenpatel/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
